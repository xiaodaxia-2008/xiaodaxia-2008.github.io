---
title: 2025年6月5日
date: 2025-06-05T10:11:29
---
最近在忙的几件事：

## FiberArt


受到一个师弟的启发，在计算相邻的铺层的连接路径的时候，增加一种投影到包络面的算法。其实这个想法很久之间便有了，当时只是实现了投影到原本的铺放表面，然后再沿着法向量进行偏移，但是法向对于一些稍微复杂一点的曲面，效果不好，投影的路径经常有一半在上面，一半突然到下面。这个原因是当要投影的直线穿过中心点附近时，到上下两面的距离几乎相等，所以投影后的点会跳跃，造成投影曲线不连续。实际上如果包络面是严格的圆柱面，这种情况很少会出现，因为被投影直线要正好穿过圆柱的中心线，这个在浮点数的世界是很难精确表达的。

![](attachments/project-to-cylinder-issue.jpg)

那么使用圆柱作为包络面就几乎不会有什么问题，而且除了